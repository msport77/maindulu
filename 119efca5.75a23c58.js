(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["119efca5"],{"235e":function(e,t,r){},"2a12":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e){return(0,a.withParams)({type:"maxLength",max:e},function(t){return!(0,a.req)(t)||(0,a.len)(t)<=e})}},3360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.withParams)({type:"and"},function(){for(var e=this,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t.length>0&&t.reduce(function(t,r){return t&&r.apply(e,a)},!0)})}},"3a54":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=(0,a.regex)("alphaNum",/^[a-zA-Z0-9]*$/)},"45b8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=(0,a.regex)("numeric",/^[0-9]*$/)},"46bc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e){return(0,a.withParams)({type:"maxValue",max:e},function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})}},"5d75":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef"),i=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/;t.default=(0,a.regex)("email",i)},"5db3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e){return(0,a.withParams)({type:"minLength",min:e},function(t){return!(0,a.req)(t)||(0,a.len)(t)>=e})}},6235:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=(0,a.regex)("alpha",/^[a-zA-Z]*$/)},"772d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef"),i=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;t.default=(0,a.regex)("url",i)},"78ef":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regex=t.ref=t.len=t.req=t.withParams=void 0;var a=r("8750"),i=o(a);function o(e){return e&&e.__esModule?e:{default:e}}t.withParams=i.default;var n=t.req=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e||!1===e)return!1;if(e instanceof Date)return!isNaN(e.getTime());if("object"===typeof e){for(var t in e)return!0;return!1}return!!String(e).length};t.len=function(e){return Array.isArray(e)?e.length:"object"===typeof e?Object.keys(e).length:String(e).length},t.ref=function(e,t,r){return"function"===typeof e?e.call(t,r):r[e]},t.regex=function(e,t){return(0,i.default)({type:e},function(e){return!n(e)||t.test(e)})}},8750:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("0234").withParams;t.default=a},"91d3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,a.withParams)({type:"macAddress"},function(t){if(!(0,a.req)(t))return!0;if("string"!==typeof t)return!1;var r="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==r&&(6===r.length||8===r.length)&&r.every(i)})};var i=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},aa82:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e){return(0,a.withParams)({type:"requiredIf",prop:e},function(t,r){return!(0,a.ref)(e,this,r)||(0,a.req)(t)})}},b5ae:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxValue=t.minValue=t.and=t.or=t.url=t.sameAs=t.requiredUnless=t.requiredIf=t.required=t.minLength=t.maxLength=t.macAddress=t.ipAddress=t.email=t.between=t.numeric=t.alphaNum=t.alpha=void 0;var a=r("6235"),i=I(a),o=r("3a54"),n=I(o),s=r("45b8"),l=I(s),u=r("ec11"),c=I(u),f=r("5d75"),d=I(f),p=r("c99d"),m=I(p),h=r("91d3"),v=I(h),P=r("2a12"),w=I(P),b=r("5db3"),q=I(b),y=r("d4f4"),$=I(y),g=r("aa82"),_=I(g),x=r("e652"),k=I(x),N=r("b6cb"),O=I(N),j=r("772d"),M=I(j),A=r("d294"),C=I(A),U=r("3360"),L=I(U),S=r("eb66"),z=I(S),D=r("46bc"),E=I(D);function I(e){return e&&e.__esModule?e:{default:e}}t.alpha=i.default,t.alphaNum=n.default,t.numeric=l.default,t.between=c.default,t.email=d.default,t.ipAddress=m.default,t.macAddress=v.default,t.maxLength=w.default,t.minLength=q.default,t.required=$.default,t.requiredIf=_.default,t.requiredUnless=k.default,t.sameAs=O.default,t.url=M.default,t.or=C.default,t.and=L.default,t.minValue=z.default,t.maxValue=E.default},b6cb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e){return(0,a.withParams)({type:"sameAs",eq:e},function(t,r){return t===(0,a.ref)(e,this,r)})}},c99d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=(0,a.withParams)({type:"ipAddress"},function(e){if(!(0,a.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(i)});var i=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},d294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.withParams)({type:"or"},function(){for(var e=this,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t.length>0&&t.reduce(function(t,r){return t||r.apply(e,a)},!1)})}},d4f4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=(0,a.withParams)({type:"required"},a.req)},e652:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e){return(0,a.withParams)({type:"requiredUnless",prop:e},function(t,r){return!!(0,a.ref)(e,this,r)||(0,a.req)(t)})}},eb66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e){return(0,a.withParams)({type:"minValue",min:e},function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})}},ec11:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("78ef");t.default=function(e,t){return(0,a.withParams)({type:"between",min:e,max:t},function(r){return!(0,a.req)(r)||(!/\s/.test(r)||r instanceof Date)&&+e<=+r&&+t>=+r})}},fc9b:function(e,t,r){"use strict";var a=r("235e"),i=r.n(a);i.a},ffa9:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex column"},[r("h3",{staticClass:"q-ma-none q-mb-md"},[e._v("My Profile")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-sm-6 col-md-3"},[r("q-card",{staticClass:"q-mr-md"},[r("q-card-media",{staticClass:"q-pa-md"},[r("img",{attrs:{src:e.profilePicture}})]),r("q-card-title",[e._v("\n          "+e._s(e.profile.fullName)+"\n        ")]),r("q-card-main",[r("p",[e._v(e._s(e.profile.phoneNumber))]),r("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Update Profile"},on:{click:e.updateProfile}})],1)],1)],1),r("div",{staticClass:"col-xs-12 col-sm-6 col-md-9"},[r("q-tabs",[r("q-tab",{attrs:{slot:"title",default:"",name:"my-profile",icon:"contact mail",label:"My Profile"},slot:"title"}),r("q-tab",{attrs:{slot:"title",name:"change-password",icon:"phonelink lock",label:"Change Password"},slot:"title"}),r("q-tab-pane",{attrs:{name:"my-profile"}},[r("q-list",[r("q-list-header",[e._v("\n              "+e._s(e.$t("myPersonalInfo"))+"\n            ")]),r("q-item-separator"),r("q-item",[r("q-item-main",[r("q-uploader",{ref:"profilePictureUploader",attrs:{url:e.url,"stack-label":e.$t("profilePicture"),"hide-upload-button":!0,"auto-expand":!0,multiple:!1},on:{add:e.pickProfilePicture,uploaded:e.profilePictureUploaded,fail:e.profilePictureUploadFail}})],1)],1),r("q-item",[r("q-item-main",[r("q-field",{attrs:{error:e.$v.profile.fullName.$error,"error-label":e.$t("fieldRequired",{name:e.$t("fullName")})}},[r("q-input",{staticClass:"q-mb-md",attrs:{"stack-label":e.$t("fullName")},on:{blur:e.$v.profile.fullName.$touch},model:{value:e.profile.fullName,callback:function(t){e.$set(e.profile,"fullName",t)},expression:"profile.fullName"}})],1)],1)],1),r("q-item",[r("q-item-main",[r("q-input",{attrs:{"stack-label":e.$t("phoneNumber")},model:{value:e.profile.phoneNumber,callback:function(t){e.$set(e.profile,"phoneNumber",t)},expression:"profile.phoneNumber"}})],1)],1),r("q-item",[r("q-item-main",[r("q-input",{attrs:{"stack-label":e.$t("address")},model:{value:e.profile.address,callback:function(t){e.$set(e.profile,"address",t)},expression:"profile.address"}})],1)],1),r("q-item",[r("q-item-main",[r("q-input",{attrs:{"stack-label":e.$t("city")},model:{value:e.profile.city,callback:function(t){e.$set(e.profile,"city",t)},expression:"profile.city"}})],1)],1),r("q-item",[r("q-item-main",[r("q-input",{attrs:{"stack-label":e.$t("province")},model:{value:e.profile.province,callback:function(t){e.$set(e.profile,"province",t)},expression:"profile.province"}})],1)],1),r("q-item",[r("q-item-main",[r("q-input",{attrs:{"stack-label":e.$t("country")},model:{value:e.profile.country,callback:function(t){e.$set(e.profile,"country",t)},expression:"profile.country"}})],1)],1),r("q-item",[r("q-item-main",[r("q-input",{attrs:{"stack-label":e.$t("postalCode")},model:{value:e.profile.postalCode,callback:function(t){e.$set(e.profile,"postalCode",t)},expression:"profile.postalCode"}})],1)],1)],1)],1),r("q-tab-pane",{attrs:{name:"change-password"}},[r("q-list",[r("q-list-header",[e._v("\n              "+e._s(e.$t("changePassword"))+"\n            ")]),r("q-item-separator"),r("q-item",[r("q-item-main",[r("q-field",{attrs:{error:e.$v.cp.oldPassword.$error,"error-label":e.$t("fieldRequired",{name:e.$t("oldPassword")})}},[r("q-input",{attrs:{type:"password",name:"oldPassword","stack-label":e.$t("oldPassword")},on:{blur:e.$v.cp.oldPassword.$touch},model:{value:e.cp.oldPassword,callback:function(t){e.$set(e.cp,"oldPassword",t)},expression:"cp.oldPassword"}})],1)],1)],1),r("q-item-separator"),r("q-item",[r("q-item-main",[r("q-field",{attrs:{error:e.$v.cp.newPassword.$error,"error-label":e.$t("fieldRequired",{name:e.$t("newPassword")})}},[r("q-input",{attrs:{type:"password",name:"newPassword","stack-label":e.$t("newPassword")},on:{blur:e.$v.cp.newPassword.$touch},model:{value:e.cp.newPassword,callback:function(t){e.$set(e.cp,"newPassword",t)},expression:"cp.newPassword"}})],1)],1)],1),r("q-item",[r("q-item-main",[r("q-field",{attrs:{error:e.$v.cp.reNewPassword.$error,"error-label":e.$t("notSame",{name:e.$t("newPassword")})}},[r("q-input",{attrs:{type:"password",name:"reNewPassword","stack-label":e.$t("reNewPassword")},on:{blur:e.$v.cp.reNewPassword.$touch},model:{value:e.cp.reNewPassword,callback:function(t){e.$set(e.cp,"reNewPassword",t)},expression:"cp.reNewPassword"}})],1)],1)],1),r("q-item",{staticClass:"justify-end"},[r("q-btn",{attrs:{color:"primary",label:"Change Password"},on:{click:e.changePassword}})],1)],1)],1)],1)],1)])])},i=[];a._withStripped=!0;var o=r("3156"),n=r.n(o),s=r("bc3a"),l=r.n(s),u=r("b5ae"),c=r("6e87"),f=r("2f62"),d={beforeCreate:function(){var e=this;console.log("before create"),l.a.get("account/profile/".concat(this.$store.state.userId)).then(function(t){e.profile=t.data,e.profilePicture=e.profile.profilePicture?"".concat(l.a.defaults.baseURL,"/uploads/profile-pictures/").concat(e.profile.profilePicture):"assets/placeholder-pp.png"})},validations:{profile:{fullName:{required:u["required"]}},cp:{oldPassword:{required:u["required"]},newPassword:{required:u["required"]},reNewPassword:{sameAsPassword:Object(u["sameAs"])("newPassword")}}},data:function(){return{url:"".concat(l.a.defaults.baseURL,"/profile-pictures"),profilePicture:"",profile:{},selectedFiles:0,cp:{oldPassword:"",newPassword:"",reNewPassword:""}}},methods:n()({},Object(f["b"])({doLogout:c["a"].DO_LOGOUT}),{pickProfilePicture:function(e){console.log(e),this.selectedFiles=e.length,this.$refs.profilePictureUploader.upload()},updateProfile:function(){this.$v.profile.$touch(),this.$v.profile.$error?this.$q.notify({message:this.$t("checkEntries"),position:"top",type:"negative"}):this.selectedFiles||this.patchData()},profilePictureUploaded:function(e){var t=JSON.parse(e.xhr.responseText);this.profile.profilePicture=t.id,this.patchData()},profilePictureUploadFail:function(e){console.log(e.xhr.responseText),this.$q.notify({message:this.$t("generalError",{name:"Update ".concat(this.$t("profilePicture"))}),position:"top",type:"negative"})},patchData:function(){var e=this;l.a.patch("account/profile/".concat(this.$store.state.userId),this.profile).then(function(t){e.profile=t.data,e.profilePicture=e.profile.profilePicture?"".concat(l.a.defaults.baseURL,"/uploads/profile-pictures/").concat(e.profile.profilePicture):"assets/placeholder-pp.png",e.$refs.profilePictureUploader.reset(),e.$q.notify({message:e.$t("generalSuccess",{name:"Update ".concat(e.$t("profile"))}),position:"top",type:"positive"})}).catch(function(t){console.log(t),e.$q.notify({message:e.$t("generalError",{name:"Update ".concat(e.$t("profile"))}),position:"top",type:"negative"})})},changePassword:function(){var e=this;this.$v.cp.$touch(),this.$v.cp.$error?this.$q.notify({message:this.$t("checkEntries"),position:"top",type:"negative"}):l.a.post("account/change-password",{oldPassword:this.cp.oldPassword,password:this.cp.newPassword}).then(function(t){e.cp.oldPassword="",e.cp.newPassword="",e.cp.reNewPassword="",e.$q.notify({message:e.$t("generalSuccess",{name:"".concat(e.$t("changePassword"))}),position:"top",type:"positive"}),e.doLogout()}).catch(function(t){console.log(t),e.$q.notify({message:e.$t("generalError",{name:e.$t("changePassword")}),position:"top",type:"negative"})})}})},p=d,m=(r("fc9b"),r("2877")),h=Object(m["a"])(p,a,i,!1,null,null,null);h.options.__file="Profile.page.vue";t["default"]=h.exports}}]);