(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["d9690eb0"],{"0676":function(t,e){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=r},"11b0":function(t,e,r){var a=r("2a06"),o=r("883d");function n(t){if(o(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return a(t)}t.exports=n},"20fd":function(t,e,r){"use strict";var a=r("d9f6"),o=r("aebd");t.exports=function(t,e,r){e in t?a.f(t,e,o(0,r)):t[e]=r}},2236:function(t,e){function r(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}t.exports=r},"2a06":function(t,e,r){t.exports=r("d2d5")},"448a":function(t,e,r){var a=r("2236"),o=r("11b0"),n=r("0676");function i(t){return a(t)||o(t)||n()}t.exports=i},"549b":function(t,e,r){"use strict";var a=r("d864"),o=r("63b6"),n=r("241e"),i=r("b0dc"),s=r("3702"),u=r("b447"),l=r("20fd"),c=r("7cd6");o(o.S+o.F*!r("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,o,d,m=n(t),f="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,g=void 0!==p,b=0,v=c(m);if(g&&(p=a(p,h>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(e=u(m.length),r=new f(e);e>b;b++)l(r,b,g?p(m[b],b):m[b]);else for(d=v.call(m),r=new f;!(o=d.next()).done;b++)l(r,b,g?i(d,p,[o.value,b],!0):o.value);return r.length=b,r}})},"54a1":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("95d5")},"56b4":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{ref:"layout",attrs:{view:"lHh Lpr lFf"}},[r("q-page-container",{staticClass:"container-webpage"},[r("q-page",{staticClass:"noheader"},[r("div",{staticClass:"row justify-center"},[r("div",{staticClass:"col-10 col-md-8"},[r("div",{staticClass:"row q-mb-md"},[r("div",{staticClass:"col-xs-12 col-md-5 q-px-md row bg-white rounded-left"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"text-center"},[r("router-link",{attrs:{to:"/dashboard"}},[r("img",{staticClass:"logo-custom responsive",attrs:{src:"assets/MD-Logo-fix-1000px.png"}})])],1),r("div",{staticClass:"text-center"},[r("h3",{staticClass:"aero text-primary text-weight-bold q-my-sm"},[t._v(t._s(t.$t("register")))]),r("q-list",{attrs:{"no-border":""}},[r("q-item",{staticClass:"q-py-none fix-height"},[r("q-item-main",[r("q-field",{attrs:{error:t.$v.form.fullName.$error,"error-label":t.errorMessages.fullName}},[r("q-input",{staticClass:"q-mb-md",attrs:{"float-label":t.$t("fullName")},on:{input:t.se,blur:t.$v.form.fullName.$touch},model:{value:t.form.fullName,callback:function(e){t.$set(t.form,"fullName",e)},expression:"form.fullName"}})],1)],1)],1),r("q-item",{staticClass:"q-py-none fix-height"},[r("q-item-main",[r("q-field",{attrs:{error:t.$v.form.username.$error,"error-label":t.errorMessages.username}},[r("q-input",{staticClass:"q-mb-md",attrs:{"float-label":t.$t("username")},on:{input:t.se,blur:t.$v.form.username.$touch},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)],1)],1),r("q-item",{staticClass:"q-py-none fix-height"},[r("q-item-main",[r("q-field",{attrs:{error:t.$v.form.email.$error,"error-label":t.errorMessages.email}},[r("q-input",{staticClass:"q-mb-md",attrs:{"float-label":t.$t("email")},on:{input:t.se,blur:t.$v.form.email.$touch},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),r("q-item",{staticClass:"q-py-none fix-height"},[r("q-item-main",[r("q-field",{attrs:{error:t.$v.form.password.$error,"error-label":t.errorMessages.password}},[r("q-input",{staticClass:"q-mb-md",attrs:{type:"password","float-label":t.$t("password")},on:{input:t.se,blur:t.$v.form.password.$touch},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1)],1),r("q-item",{staticClass:"q-py-none fix-height"},[r("q-item-main",[r("q-field",{attrs:{error:t.$v.form.rePassword.$error,"error-label":t.errorMessages.rePassword}},[r("q-input",{staticClass:"q-mb-md",attrs:{type:"password","float-label":t.$t("rePassword")},on:{input:t.se,blur:t.$v.form.rePassword.$touch},model:{value:t.form.rePassword,callback:function(e){t.$set(t.form,"rePassword",e)},expression:"form.rePassword"}})],1)],1)],1),r("q-item",{staticClass:"q-py-none fix-height"},[r("q-item-main",[r("q-field",{attrs:{error:t.$v.form.phoneNumber.$error,"error-label":t.errorMessages.phoneNumber}},[r("q-input",{staticClass:"q-mb-md",attrs:{"float-label":t.$t("phoneNumber"),type:"number",decimals:0,prefix:"+62"},on:{input:t.se,blur:t.$v.form.phoneNumber.$touch},model:{value:t.form.phoneNumber,callback:function(e){t.$set(t.form,"phoneNumber",e)},expression:"form.phoneNumber"}})],1)],1)],1),r("q-item",{staticClass:"q-mb-md"},[r("q-checkbox",{attrs:{"true-value":"yes","false-value":"no"},on:{input:t.se},model:{value:t.aggrement,callback:function(e){t.aggrement=e},expression:"aggrement"}}),r("p",{staticClass:"agree"},[t._v("Saya telah membaca "),r("q-btn",{staticClass:"btn-agree",attrs:{flat:""},on:{click:t.gotoAgree}},[t._v(t._s(t.$t("agreementMiddle"))+" MainDulu")])],1)],1),r("q-item",[r("q-item-main",[r("q-btn",{staticClass:"glow primary full-width q-mb-sm",attrs:{rounded:"",disable:t.disable||t.loadingBtn},on:{click:t.verify}},[t._v("\n                          "+t._s(t.$t("registerNow"))+"\n                        ")]),r("q-btn",{staticClass:"glow full-width",attrs:{rounded:"",label:t.$t("cancel")},on:{click:t.backHome}})],1)],1)],1)],1)])]),r("div",{staticClass:"col-xs-12 col-md-7"},[r("div",{staticClass:"fit login-img rounded-right"},[r("div",{staticClass:"login-title text-white"},[r("h4",{staticClass:"aero q-my-sm"},[t._v("Main Dulu"),r("br"),t._v("Bayar Nanti")]),r("div",{staticClass:"full-width"},[r("div",{staticClass:"text-weight-medium"},[t._v("\n                      Daftarkan akun Anda untuk mendapatkan fasilitas di maindulu\n                    ")])])])])])])])])])],1),r("q-layout-footer",{staticClass:"no-shadow",staticStyle:{"padding-bottom":"0px",left:"0",position:"absolute"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 bg-black q-toolbar row no-wrap items-center justify-center q-toolbar-normal text-white"},[r("p",{staticClass:"q-caption q-ma-none text-center"},[t._v("MAINDULU 2018. v"+t._s(t.version)+" Hak cipta dilindungi Undang-undang"),r("br"),r("small",[t._v("Untuk pengalaman terbaik, silakan gunakan Google Chrome atau Firefox.")])])])])])],1)},o=[];a._withStripped=!0;r("4917"),r("6b54"),r("ac6a"),r("cadf"),r("456d"),r("a481");var n=r("6e87"),i=r("b93b"),s=r("b5ae"),u=(r("a18c"),r("bc3a")),l=r.n(u),c=r("2ef0"),d={mixins:[Object(i["d"])()],mounted:function(){var t=this.$route.params.id;if(t){this.getEpaymentData(),this.showError(this.$v.form);var e=this.$q.localStorage.get.item("reg");e&&e._id&&(this.form.fullName=e.fullName,this.form.username=e.username,this.form.email=e.email,this.form.phoneNumber=e.phoneNumber.replace(/^\+62/,"")),this.updateBounce(1)}else this.$router.push("/dashboard")},data:function(){return{version:this.$store.state.version,disable:!0,aggrement:"no",form:{fullName:"",username:"",email:"",password:"",rePassword:"",phoneNumber:"",clientId:"",companyId:"",gameId:"",isEpayment:{regInEpayment:"1",temp:this.$route.params.id}},columnName:{fullName:this.$t("fullName"),username:this.$t("username"),email:this.$t("email"),password:this.$t("password"),rePassword:this.$t("rePassword"),phoneNumber:this.$t("phone")},loadingBtn:!1}},watch:{},validations:{form:{fullName:{required:s["required"],alpha:i["e"]},username:{required:s["required"],minLength:Object(s["minLength"])(6)},email:{required:s["required"],email:s["email"]},password:{required:s["required"],minLength:Object(s["minLength"])(8)},rePassword:{required:s["required"],sameAsPassword:Object(s["sameAs"])("password"),minLength:Object(s["minLength"])(8)},phoneNumber:{required:s["required"],minLength:Object(s["minLength"])(10)},clientId:{required:s["required"]},companyId:{required:s["required"]},gameId:{required:s["required"]},isEpayment:{}}},methods:{backHome:function(){this.$router.push("/dashboard")},updateBounce:function(t){l.a.post("/bounce-counter",{action:t})},getEpaymentData:function(){var t=this;l.a.get("/epayment-temp/".concat(this.$route.params.id)).then(function(e){var r=e.data;r?(t.form.clientId=r.clientId,t.form.companyId=r.companyId?r.companyId:"lyto",t.form.gameId=r.gameId?r.gameId:"RF"):t.$router.push("/dashboard")}).catch(function(e){t.$router.push("/dashboard")})},se:function(){var t=this;this.showError(this.$v.form,!1);var e=!1;this.$v.$error&&(e=!0),Object.keys(this.form).map(function(r){t.form[r]||(e=!0)}),"no"===this.aggrement&&(e=!0),this.disable=e},verify:function(){var t=this;if(this.$v.form.$touch(),this.$v.form.$error)return this.showError(this.$v.form),1;this.loadingBtn=!0;var e=c.pick(this.form,["fullName","username","email","password","phoneNumber","clientId","companyId","gameId","isEpayment"]);e.email=e.email.toLowerCase();var r=this.$q.localStorage.get.item("reg");if(r&&r._id&&(e._id=r._id),e.phoneNumber){var a=e.phoneNumber;a=a.toString(),a.match(/^[1-9]/g)&&(a="+62".concat(a)),a=a.match(/(^\+?[\d]+)/g),e.phoneNumber=a?a[0]:""}this.$store.dispatch(n["a"].REGISTER,e,{root:!0}).then(function(e){t.loadingBtn=!1,t.$q.localStorage.set("reg",e.data),t.$q.notify({message:t.$t("otpSent"),color:"primary",icon:"thumb_up",position:"top-right"}),t.updateBounce(-1),t.$router.push("/verification/".concat(t.$route.params.id))}).catch(function(e){t.loadingBtn=!1,t.$q.notify({message:e.response.data.message,color:"red-10",icon:"warning",position:"top-right"})})},gotoAgree:function(){var t=this.$router.resolve({name:"help",query:{tag:"term"}});window.open(t.href,"_blank")}},computed:{}},m=d,f=(r("ac59"),r("2877")),h=Object(f["a"])(m,a,o,!1,null,null,null);h.options.__file="Register.vue";e["default"]=h.exports},"883d":function(t,e,r){t.exports=r("54a1")},"95d5":function(t,e,r){var a=r("40c3"),o=r("5168")("iterator"),n=r("481b");t.exports=r("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||n.hasOwnProperty(a(e))}},ac59:function(t,e,r){"use strict";var a=r("e2cb"),o=r.n(a);o.a},b93b:function(t,e,r){"use strict";r.d(e,"b",function(){return d}),r.d(e,"a",function(){return m}),r.d(e,"c",function(){return f}),r.d(e,"d",function(){return h}),r.d(e,"e",function(){return p});r("f559"),r("cadf"),r("456d"),r("ac6a");var a=r("448a"),o=r.n(a),n=r("9523"),i=r.n(n),s=r("3156"),u=r.n(s),l=function(t,e){return{data:function(){return{uri:t,query:e.query||{},data:[],pagination:{page:1,rowsNumber:0,rowsPerPage:50},filter:"",selected:[],loading:!1}},methods:{filterHandler:function(t){return{}},doFind:function(t){var e=this,r=t||this,a=r.pagination,o=r.filter;this.pagination=a;var n=a.rowsPerPage,s=((a.page>0?a.page:1)-1)*a.rowsPerPage,l=a.page,c=u()({$limit:n,$skip:s},this.query),d={};a.sortBy&&(c.$sort=i()({},a.sortBy,a.descending?-1:1)),d=this.filterHandler(o);var m=u()({},c,d);return this.loading=!0,this.$axios.get(this.uri,{params:m}).then(function(t){var r=t.data;return e.pagination.rowsNumber=r.total,e.pagination.rowsPerPage=n,e.pagination.page=l,e.data=r.data,e.loading=!1,r})}}}},c=function(t,e){return{data:function(){return{toObjectIdMap:[],toISODateMap:[],uri:t,aggregate:e.aggregate||[],data:[],pagination:{page:1,rowsNumber:0,rowsPerPage:50},filter:"",selected:[],loading:!1}},methods:{filterHandler:function(t){return{}},doFind:function(t){var e=this,r=t||this,a=r.pagination,n=r.filter,s=[];s.push.apply(s,o()(this.aggregate));var u=a.rowsPerPage,l=((a.page>0?a.page:1)-1)*a.rowsPerPage,c=a.page;n&&s.push(this.filterHandler(n)),a.sortBy&&s.push({$sort:i()({},a.sortBy,a.descending?-1:1)});var d={total:[{$count:"count"}],data:[{$skip:l}]};a.rowsPerPage&&d.data.push({$limit:u}),s.push({$facet:d}),s.push.apply(s,[{$unwind:"$total"},{$project:{data:1,total:"$total.count"}}]),this.loading=!0;var m=this.uri;console.log(s);var f=this.toObjectIdMap.length?this.toObjectIdMap:[],h=this.toISODateMap.length?this.toISODateMap:[],p={resource:m,aggregate:s,toObjectIdMap:f,toISODateMap:h};return this.$axios.post("aggregate",p).then(function(t){var r=t.data[0];return e.pagination=a,e.pagination.rowsNumber=r&&r.total?r.total:0,e.data=r&&r.data?r.data:[],e.pagination.rowsPerPage=u,e.pagination.page=c,e.loading=!1,r})}}}},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r?c(t,e):l(t,e)},m=function(t){return{data:function(){return{uri:t,data:{}}},methods:{doGet:function(t,e){var r=this;return this.$axios.get("".concat(this.uri,"/").concat(t),e).then(function(t){return r.data=t.data,t})},doPost:function(t){var e=this.data;return this.$axios.post(this.uri,e,t).then(function(t){return t})},doPatch:function(t,e){var r=this.data;return this.$axios.patch("".concat(this.uri,"/").concat(t),r,e).then(function(t){return t})}}}},f=function(t){return{data:function(){return{uri:t}},methods:{doRemove:function(t,e){return this.$axios.delete("".concat(this.uri,"/").concat(t),e).then(function(t){return t})}}}},h=function(){return{data:function(){return{errorMessages:{},columnName:{}}},methods:{showError:function(t){var e=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.errorMessages={},Object.keys(t).forEach(function(r){r.startsWith("$")||(t[r]["$error"],Object.keys(t[r]).forEach(function(a){if(!a.startsWith("$")&&"boolean"===typeof t[r][a]&&!t[r][a]){var o=u()({field:e.columnName&&e.columnName[r]?e.columnName[r]:r},t[r].$params[a]);e.errorMessages[r]=e.$t("ErrorMessage.".concat(a),o)}}))}),r&&t.$error&&this.$q.notify({message:this.$t("ReviewForm"),color:"red-10",icon:"warning",position:"top-right"})}}}},p=function(t){return"undefined"===typeof t||null===t||""===t||/^[.a-zA-Z -]*$/.test(t)}},d2d5:function(t,e,r){r("1654"),r("549b"),t.exports=r("584a").Array.from},e2cb:function(t,e,r){}}]);